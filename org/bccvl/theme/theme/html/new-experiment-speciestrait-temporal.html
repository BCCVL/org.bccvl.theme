<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
    <title>BCCVL New Species Trait (Temporal) Model</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link href="#placeholder" rel="stylesheet" id="portal_css"/>
    <!-- theme specific css here -->
    <style>
      .modal.large {
          width: 80%; /* responsive width */
          margin-left: -40%; /* width/2 */
          left: 50%;
          overflow-y: initial ;
      }
    </style>

    <!--[if lt IE 9]>
        <script src="html/lib/html5shiv/html5shiv.js"></script>
    <![endif]-->

    <!-- place holder for js from plone -->
    <script id="portal_js" type="text/javascript"></script>

    <!-- custom scripts for theme page -->
    <!-- load main javascript -->
    <script id="page_js" type="text/javascript">
      require(['new-experiment-speciestrait']);
    </script>

    <script id="google-analytics"></script>

  </head>

  <body>
    <div class="white-bg">
      <!-- navbar ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
      <nav class="navbar navbar-static-top"><div class="navbar-inner"><div class="container">

        <!-- button for narrow screen menu -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">menu</button>

        <!-- project title -->
        <a id="portal-logo" class="bccvllinks-home brand"><img src="images/bccvl_logo_beta.png" alt="Biodiversity &amp; Climate Change Virtual Lab"/></a>

        <!-- container for content that will hide under menu when screen is narrow -->
        <div class="nav-collapse collapse">

          <!-- user menu -->
          <div id="user-menu" class="btn-group pull-right">
            <a class="btn dropdown-toggle fine" data-toggle="dropdown">
              <i class="icon-user"></i> <span class="bccvl-username">unknown user</span> <i class="caret"></i>
            </a>
            <ul class="dropdown-menu">
              <li><a class="bccvllinks-dashboard"><i class="icon-bell"></i>Dashboard</a></li>
              <li><a class="bccvllinks-adminaccess"><i class="icon-eye-open"></i> Admin access</a></li>
              <li class="divider"></li>
              <li><a class="bccvllinks-logoutuser"><i class="icon-eject"></i> Log out</a></li>
            </ul>
          </div>

          <!-- search field -->
          <form id="siteSearch" class="navbar-search pull-right" method="" autocomplete="on" action="" enctype="text/plain">
            <input type="text" name="siteSearchQuery" class="search-query" placeholder="Search"/>
          </form>

          <!-- main menu items -->
          <ul id="portal-globalnav" class="nav">
            <!-- <li               ><a class="bccvllinks-dashboard">Dashboard</a></li> -->
            <li               ><a class="bccvllinks-datasets">Datasets</a></li>
            <li class="active"><a class="bccvllinks-experiments">Experiments</a></li>
            <li               ><a class="bccvllinks-knowledgebase">Support</a></li>
          </ul>

        </div><!--/.nav-collapse -->

      </div></div></nav><!-- end of nav wrapper -->


      <!-- content ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
      <!-- container for main content -->
      <div class="container bccvl-main">

        <!-- notifications from plone ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
        <section class="bccvl-flashmessages">
        </section>


        <!-- experiment setup form ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

        <section class="bccvl-experimentdetails bccvl-new-speciestrait tabbable">
          <form class="bccvl-jqueryvalidate" id="experimentSetup" method="post" novalidate="novalidate" autocomplete="on" action="" enctype="text/plain">

            <h1>New <strong>Species Trait (Temporal) Modelling</strong> Experiment</h1>

            <div class="alert" >
              <button type="button" class="close" data-dismiss="alert">&times;</button>
              <strong>This experiment type is still under development.</strong>
            </div>

            <!-- the experiment form wizardy tabs, with the prev/next buttons -->

            <!-- tabs -->
            <div class="bccvl-wizardtabs">
              <div class="bccvl-wizardtabs-navbtns">
                <button class="btn bccvl-wizardtabs-prev" type="button"><i class="icon-chevron-left"></i> Previous</button>
                <button class="btn bccvl-wizardtabs-next" type="button">Next <i class="icon-chevron-right"></i></button>
              </div>
              <ul class="nav nav-tabs">
                <li class="active"><a href="#tab-meta" data-toggle="tab">Description</a></li>
                <li><a href="#tab-configuration" data-toggle="tab">Algorithms</a></li>
                <li><a href="#tab-source-datasets" data-toggle="tab">Input Datasets</a></li>
                <li><a href="#tab-nomination" data-toggle="tab">Configuration</a></li>
                <li><a href="#tab-enviro" data-toggle="tab">Climate &amp; Environmental Data</a></li>
                <li><a href="#tab-geo" data-toggle="tab">Constraints</a></li>

                <li><a href="#tab-review" data-toggle="tab">Run</a></li>
              </ul>
            </div>

            <!-- the contents of the wizard tab panes -->
            <div class="tab-content">

              <!-- page: meta  ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane active" id="tab-meta">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <div class="span6">
                      <h3>In this experiment, you can analyse the effect of environmental variables on 1 or more species traits, and also test how traits differ among multiple species.</h3>
                      <a href="https://support.bccvl.org.au/support/solutions/articles/6000083195-species-trait-modelling-experiment" target="_blank">Check our Support page for guidance on this experiment.</a>

                    </div>
                    <div class="span6">
                      <p class="bccvl-tab-description">
                        Give your experiment a title and description.
                      </p>
                      <div class="control-group">
                        <input type="text" name="expName" class="bccvl-expname input-block-level" required="required" placeholder="Name for this experiment"/>
                      </div>
                      <div class="control-group">
                        <textarea name="expDescription" class="input-block-level bccvl-expdesc" rows="6" placeholder="Description of experiment" ></textarea>
                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>


              <!-- page: configuration  ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane active" id="tab-configuration">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <p class="span12 bccvl-tab-description">
                      Choose and configure species trait algorithms.
                    </p>
                  </div>

                  <!-- experiment algo 1 -->
                  <div class="row-fluid">

                    <div class="span4">
                      <h5><strong> Test the effect of environmental variables on traits</strong></h5>

                      <div class="control-group">

                        <table class="table table-hover bccvl-algorithmtable-species">
                          <thead>
                            <tr>
                              The algorithms below can be used to run a model that will test how the species traits are affected by all selected environmental variables. Once selected you can change the configuration options for each algorithm, however you don't have to do this as all options are set to default.
                            </tr>
                            <tr><th colspan="2"></th>
                              <th style="text-align:right;">
                                <a href="javascript:void(0);" class="select-all">All</a> / <a href="javascript:void(0);" class="select-none">None</a>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                          </tbody>
                        </table>
                      </div>
                    </div>

                    <div class="bccvl-algoconfig span8" id="algoConfig-species">
                    </div>
                  </div>

                  <!-- experiment algo 2 -->
                  <div class="row-fluid">

                    <div class="span4"><div class="control-group">
                        <h5><strong> Test how traits differ among species <br/><em>(requires multiple input species)</em></strong></h5>
                        <table class="table table-hover bccvl-algorithmtable-diff">
                          <thead>
                            <tr>
                              This algorithm can be used to run a model that will test how each trait differs amount the different species. Once selected you can change the configuration options for each algorithm, however you don't have to do this as all options are set to default.
                            </tr>
                            <tr><th colspan="2"></th>
                              <th style="text-align:right;">
                                <a href="javascript:void(0);" class="select-all">All</a> / <a href="javascript:void(0);" class="select-none">None</a>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                          </tbody>
                        </table>
                      </div>
                    </div>

                    <div class="bccvl-algoconfig span8" id="algoConfig-diff">
                    </div>
                  </div>

                </fieldset>
              </div>


              <!-- page: source datasets  ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane active" id="tab-source-datasets">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <p class="span12 bccvl-tab-description">
                      Select the input datasets.
                    </p>
                  </div>

                  <div class="row-fluid bccvl-stretch-parent">
                    <!-- list of available data -->
                    <div id="formfield-form-widgets-species_traits_dataset">
                    </div>

                    <!-- preview area
                         <div class="span8">
                           <div class="bccvl-preview-pane" id="map1">
                             <span class="preview-text">Preview Area</span>
                           </div>
                         </div>
                    -->
                  </div>
                </fieldset>
              </div>

                            <!-- page: source datasets  ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane" id="tab-nomination">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <p class="span12 bccvl-tab-description">
                      Nominate data columns.
                    </p>
                  </div>

                  <div class="row-fluid">
                    <!-- list of available data -->
                    <div id="nomination-table">
                    </div>
                  </div>
                </fieldset>
              </div>

              <!-- page: environmental layers  ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane active" id="tab-enviro">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <p class="span12 bccvl-tab-description">
                      Select the climate and other environmental variables.
                    </p>
                  </div>

                  <div class="row-fluid bccvl-stretch-parent">

                    <!-- list of available data -->
                    <div class="span4">

                      <div class="control-group bccvl-environmentaldatatable">
                        <div id="formfield-form-widgets-environmental_datasets">
                    <!-- Modal Dialog layers -->
                          <div id="environmental_datasets-modal" class="modal large hide fade" tabindex="-1" role="dialog">
                            <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                              <h3 id="myModalLabel">Select Climate and Environmental Data</h3>
                            </div>
                            <div id="modal-body" class="modal-body"></div>
                            <div class="modal-footer">

                              <button class="btn btn-primary">Add layers</button>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="alert alert-warning">
                         <strong>Optional</strong> <br/>if you have selected environmental variables in the Input Datasets tab.
                     </div>
                     <div class="alert alert-warning">
                         <strong>Required</strong> <br/>if you have not selected any environmental variables in the Input Datasets tab.
                     </div>

                    </div>

                    <!-- preview area -->
                    <div class="span8">
                      <div class="bccvl-preview-pane" id="map3">
                        <span class="preview-text">Preview Area</span>
                      </div>
                    </div>

                  </div>
                </fieldset>
              </div>

              <!-- page: species occurrences ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane active" id="tab-geo">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <p class="span12 bccvl-tab-description">
                      Define any geographic constraints for the experiment.
                    </p>
                     <ul>
                         <li>The model will be trained using data from the constrained area.</li>
                         <li>Default is convex hull (=minimum polygon) around occurrence records (blue area on the map).</li>
                         <li>Environmental envelope is the area of selected environmental variables (green box on the map).</li>
                         <li>Results will include a map for the constraint area and the environmental envelope (unconstrained area).</li>
                      </ul>
                      <p>
                        <a href="https://support.bccvl.org.au/support/solutions/articles/6000173076-setting-the-constraint-area" target="_blank">Read More ...</a>
                      </p>
                  </div>

                  <div class="row-fluid bccvl-stretch-parent">
        
                    <!-- list of available data -->
                    <div class="span4" style="overflow:visible;">
                    
                      <div id="estimated-area">
                        <em></em>
                      </div>
                    
                      <div class="constraint-method">
                        <input type="radio" value="use_convex_hull" name="constraints_type" id="use_convex_hull" checked />
                        <label for="use_convex_hull">Use Convex Hull</label>
                        <div class="config">
                          <div class="geojson-offset">
                            <input type="text" name="region-offset" class="region-offset" /> KM
                            <a href="javascript:void(0);" class="btn btn-small btn-default add-offset" id="add-conv-hull-offset"><i class="fa fa-expand"></i> Add Offset</a>&nbsp;
                          </div>
                        </div>
                      </div>

                      <hr/>

                      <div class="constraint-method">
                        <input type="radio" value="region_no_offset" name="constraints_type" id="region_no_offset"/>
                        <label for="region_no_offset" >Select constraints by pre-defined region</label>

                        <div id="select-region" class="config" style="display:none;">
                          <div class="constraints" id="formfield-form-widgets-modelling_region"></div>
                          <div class="bccvl-constraint-geojson-input">
                            <select id="select-region-type" class="select-region-type" placeholder="Choose a region type ...">
                              <option value="">Select A Region Type ...</option>
                              <option value="cl959">Local Government Areas</option>
                              <option value="cl916">National Resource Management Regions</option>
                              <option value="cl22">Australian States and Territories</option>
                              <option value="cl1048">IBRA 7 Regions</option>
                              <option value="cl1057">River Regions</option>
                              <option value="cl1058">Drainage Divisions Level 1</option>
                              <option value="cl1059">Drainage Divisions Level 2</option>
                            </select>
                            <select id="select-region" class="select-region" placeholder="Find a region ..." multiple="multiple">
                              <option value="" selected="selected"></option>
                            </select>
                            <a href="javascript:void(0);" class="btn btn-small btn-default draw-geojson" id="selected-geojson"><i class="fa fa-crop"></i> Add To Map</a>&nbsp;
                            <a href="javascript:void(0);" class="btn btn-small btn-danger remove-polygon"><i class="fa fa-times"></i> Clear</a>
                          </div>
                          <div class="geojson-offset">
                            <input type="text" name="region-offset" class="region-offset" /> KM
                            <a href="javascript:void(0);" class="btn btn-small btn-default add-offset" id="add-region-offset"><i class="fa fa-expand"></i> Add Offset</a>&nbsp;
                          </div>
                        </div>
                      </div>

                      <hr/>

                      <div class="constraint-method">
                        <input type="radio" value="use_enviro_env" name="constraints_type" id="use_enviro_env" />
                        <label for="use_enviro_env" >Use Environmental Envelope</label>
                      </div>

                      <hr/>



                      <div class="constraint-method">
                        <input type="radio" value="drawn_constraint" name="constraints_type" id="drawn_constraint" />
                        <label for="drawn_constraint" >Draw Constraints on Map</label>

                        <div id="draw-region" class="config" style="display:none;">
                          <div class="bccvl-draw-constraints">
                            <a href="javascript:void(0);" class="btn btn-small btn-default draw-polygon"><i class="fa fa-share-alt"></i> Draw On Map</a>&nbsp;
                            <a href="javascript:void(0);" class="btn btn-small btn-danger remove-polygon"><i class="fa fa-times"></i> Clear</a>
                          </div>
                        </div>
                      </div>
                      
                      <hr/>
                      
                      <div class="constraint-method">
                        <input type="radio" value="upload_shp_file" name="constraints_type" id="upload_shp_file" />
                        <label for="upload_shp_file" >Upload Shapefile</label>
                        <div id="upload_spinner" style="display:none;"><span style="display:block; padding-top:1em; text-align:center;"><i class="fa fa-spin fa-spinner fa-2x"></i></span></div>
                        <div id="upload-shape" class="config form-horizontal" style="display:none;">
                          <div class="control-group">
                            <label class="control-label" for="upload_file">File</label>
                            <div class="controls">
                           
                             <input type="file" id="upload_file" accept=".zip">
                            </div>
                          </div>
                          <div class="control-group">
                            <div class="controls">
                              <a href="javascript:void(0);" class="btn btn-small btn-default" id="draw-shapefile"><i class="fa fa-crop"></i> Add To Map</a>&nbsp;
                              <a href="javascript:void(0);" class="btn btn-small btn-danger remove-polygon" id="remove-shapefile"><i class="fa fa-times"></i> Clear</a>
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>

                    <!-- preview area -->
                    <div class="span8">
                      <div class="bccvl-preview-pane constraints-map pre-render-map" id="map4">

                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>

              <!-- page: review  ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ -->
              <div class="tab-pane active" id="tab-review">
                <fieldset class="tab">
                  <div class="row-fluid">
                    <p class="span12 bccvl-tab-description">
                      Run your experiment.
                    </p>
                  </div>

                  <div class="row-fluid">
                    <!-- show the current status -->
                    <div class="span12 bccvl-expstatus">
                      <div class="loader" style="display:none;"></div>
                      <button type="submit" class="btn btn-primary btn-large bccvllinks-experiment-start">start Experiment</button>
                    </div>
                  </div>
                </fieldset>
              </div><!-- end of status page -->


            </div>

          </form>
        </section>

      </div><!-- end of main content container -->
    </div>
    <!-- footer ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <footer id="portal-footer" class="navbar navbar-fixed-bottom">
      <div class="container-fluid">
        <small>&hearts; and &copy; 2013 &nbsp;&middot;&nbsp; the BCCVL team</small>
      </div>
    </footer>

  </body>
</html>
