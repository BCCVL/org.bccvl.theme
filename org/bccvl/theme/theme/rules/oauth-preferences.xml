<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <!-- USER DETAILS PAGE ============================================ -->

    <rules if-path="@@oauth-preferences/">
        <theme href="html/oauth-preferences.html" />

        <!-- copy content into theme, drop in theme if not in content -->
        <!-- nav links -->
        <copy attributes="href" css:theme=".bccvllinks-personalinfo" css:content="#contentview-user_data-personal-information a" css:if-content="" />
        <drop theme="//li[a/@class='bccvllinks-personalpref']" css:if-not-content="#contentview-user_data-personal-information"/>
        <copy attributes="href" css:theme=".bccvllinks-personalpref" css:content="#contentview-user_data-personal-preferences a" css:if-content=""/>
        <drop theme="//li[a/@class='bccvllinks-personalpref']" css:if-not-content="#contentview-user_data-personal-preferences"/>
        <copy attributes="href" css:theme=".bccvllinks-oauthpref" css:content="#contentview-user_data-oauth-preferences a" css:if-content=""/>
        <drop theme="//li[a/@class='bccvllinks-oauthpref']" css:if-not-content="#contentview-user_data-oauth-preferences"/>
        <copy attributes="href" css:theme=".bccvllinks-changepassword" css:content="#contentview-user_data-change-password a" css:if-content=""/>
        <drop theme="//li[a/@class='bccvllinks-changepassword']" css:if-not-content="#contentview-user_data-change-password"/>

        <!-- page content -->
        <replace css:theme-children="div#user-info-form" css:content-children="div#content-core" />

    </rules>

</rules>
