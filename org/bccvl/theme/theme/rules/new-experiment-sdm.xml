<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <!-- NEW SDM EXPERIMENT ========================================= -->
    <rules if-path="++add++org.bccvl.content.experiment/">
        <theme href="html/new-experiment-sdm.html" />

        <!-- hook in the new experiment form's attributes -->
        <copy attributes="name action enctype" css:theme="form#experimentSetup" css:content="#form" />

        <!-- hook in title field -->
        <copy attributes="name value" css:theme="form#experimentSetup .bccvl-expname" css:content="#form-widgets-IDublinCore-title" />

        <!-- hook in description field -->
        <replace theme-children="//textarea[@name='expDescription']" content="//textarea[@id='form-widgets-IDublinCore-description']/text()" />
        <copy attributes="name value" css:theme="form#experimentSetup .bccvl-expdesc" css:content="#form-widgets-IDublinCore-description" />

        <!-- Add any error information into the page -->
        <!-- Attach data-error to any error'd field -->

    </rules>

</rules>
